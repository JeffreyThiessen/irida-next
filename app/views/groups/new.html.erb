<div class="p-4">
  <%= render partial: 'shared/page_header', locals: { title: "Create group", subtitle: "Groups allow you to manage and collaborate across multiple projects. Members of a group have access to all of its projects" } %>
  <div data-controller="groups-new" class="grid gap-4 md:gap-8 grid-cols-3">
    <% if @group.errors.any? %>
      <%= render partial: 'shared/alert/list/danger', locals: { title: "Error updating group", messages: @group.errors.full_messages } %>
    <% end %>
    <%= form_with(model: @group, url: groups_path, method: :post) do |group| %>
      <% invalid = @group.errors.include?(:name) %>
      <div class="form-field <%= 'invalid' if invalid %>">
        <%= group.label :name %>
        <%= group.text_field :name, data: { "groups-new-target": "name", action: "input->groups-new#nameChanged" }, placeholder: "Awesome group name" %>
        <% if invalid %>
          <% @group.errors.full_messages_for(:name).each do |error_message| %>
            <p class="mt-2 text-sm text-red-600 dark:text-red-500"><%= error_message %></p>
          <% end %>
        <% end %>
      </div>
      <div class="form-field">
        <%= group.label :path %>
        <%= group.text_field :path, data: { "groups-new-target": "path" }, pattern: Irida::PathRegex.namespace_format_regex %>
        <p class="field-hint">Must only contain letters, numbers, and - characters.</p>
      </div>
      <div class="form-field">
        <%= group.label :description %>
        <%= group.text_area :description %>
      </div>
      <div class="my-2">
        <%= group.submit "Create group", class: "btn btn-primary mr-1" %>
        <a href="<%= groups_path %>" class="btn btn-default">Cancel</a>
      </div>
    <% end %>
  </div>
</div>